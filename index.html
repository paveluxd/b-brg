<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gates Of Morr</title>
    <meta name="description" content="A free mini rougleike game for the web. The goal of the game is to survive as long as possible by managing resources and finding strong item combos. There are 60 unique items and various map events.">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/dev-view.css">

    <!-- //mono -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">

    <!-- //Grenze -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Grenze:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
    <link rel="manifest" href="./favicon/site.webmanifest">
    <link rel="mask-icon" href="./favicon/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
</head>



<body>
    <!-- State game -->
    <div id="state-screen" class="modal state-screen " onclick="screen('map')">
        <div class="modal-container">
            <img src="./img/bg/start.svg" class="illustration">
            <p class="body-14">
                Mini roguelike for the web.<br>
                <b>Early access</b> play tester demo.
            </p>
            <p class="body-14 italic b50">Tap to start</p>
        </div>
    </div>
    
    <!-- TAB CONTAINER -->
    <div id="tab-container" class="tab-container row ">
        <!-- stats-->
        <div id="stat-indicator">
            <p id="map-desc" class='italic'> </p>
        
            <div>
                <img src='./img/ico/fish.svg'>
                <p id='pl-food' class="mono-m">${playerObj.food}</p>
            </div>
            <div>
                <img src='./img/ico/power.svg'>
                <p id='pl-power' class="mono-m">${playerObj.power}</p>
            </div>
            <div>
                <img src='./img/ico/hp-bb-red.svg'>
                <p id='pl-life' class="mono-m">${playerObj.life}</p>
            </div>
            <div>
                <img src='./img/ico/coin.svg'>
                <p id='pl-coins' class="mono-m">${playerObj.coins}</p>
            </div>
        </div>
    </div>

    <!-- Map -->
    <div id="map" class="screen tab "> 
        <div id="map-container" class=""></div>
    </div>

    <!-- Combat -->
    <div id="combat" class="screen hide ">
        <!-- Game info -->
        <p id="log"></p>
        
        <!-- Units images -->
        <div class="column grow units-container">
            <img class="bg-cover" src="./img/bg/combat-2.svg" alt="">

            <div class="row" style="align-items: stretch; flex-grow: 1;">

                <!-- Player -->
                <div class="column">
                    <div class="imgcont">
                        <div id="player-sprite" onclick="screen('character', 'combat-menu')"></div>

                        <!-- Disabled temporary -->
                        <!-- <p id="plDmgInd" class="floating-ind"></p>  -->

                        <!-- Player stat section --> 
                        <div class="stat-group">
                            <div class="stat">
                                <img src="./img/ico/dice.svg">
                                <div id="p-dice"></div>
                                <div id="p-diceChange" class="floater"></div>
                                <div id="p-rollChange" class="floater"></div>
                            </div>
                            <div class="stat">
                                <img src="./img/ico/life.svg">
                                <div id="p-life"></div>
                                <div id="p-lifeChange" class="floater"></div>
                            </div>
                            <div class="stat">
                                <img src="./img/ico/power.svg">
                                <div id="p-power"></div>
                                <div id="p-powerChange" class="floater"></div>
                            </div>
                            <div class="stat">
                                <img src="./img/ico/def.svg">
                                <div id="p-def"></div>
                                <div id="p-defChange" class="floater"></div>
                            </div>
                        </div>

                    </div>
                </div>
        
                <!-- Enemy -->
                <div class="column">
                    <div class="imgcont">
                        <div id="enemy-sprite" class="boss"></div>

                        <!-- Disabled temporary -->
                        <!-- <p id="enDmgInd" class="floating-ind"></p> -->
                        
                        <!-- UI:Enemy intent indicator -->
                        <div id="intent-indicator">
                            <svg><polygon points="0,12 6,6 12,12"/></svg>
                            <div id="intent" class="body-14"></div>
                        </div>

                        <!-- Enemy stat section -->
                        <div class="stat-group">
                            <div class="stat">
                                <img src="./img/ico/dice.svg" alt="">
                                <div id="dice"></div>
                                <div id="e-diceChange" class="floater"></div>
                                <div id="e-rollChange" class="floater"></div>
                            </div>
                            <div class="stat">
                                <img src="./img/ico/life.svg" alt="">
                                <div id="life"></div>
                                <div id="e-lifeChange" class="floater"></div>
                            </div>
                            <div class="stat">
                                <img src="./img/ico/power.svg" alt="">
                                <div id="power"></div>
                                <div id="e-powerChange" class="floater"></div>
                            </div>
                            <div class="stat">
                                <img src="./img/ico/def.svg" alt="">
                                <div id="def"></div>
                                <div id="e-defChange" class="floater"></div>
                            </div>
                        </div>

                    </div>                
                </div>
            </div>
        </div>

        <div id="playerActionContainer" class="actions-container scroll">
            <div id="cards-row"></div>
        </div>
  
    </div>

    <!-- Reward screen -->
    <div id="reward-screen" class="modal tab-screen-container hide" >
        <!-- Tabs -->
        <div class="tab-container">
            <button onclick="location.href='#reward-slide'">
                <img src="./img/ico/tab-reward.svg">
                Rewards
            </button>
            <button onclick="location.href='#inventory-slide'">
                <img src="./img/ico/inventory-tab.svg">
                Inventory
            </button>
        </div>

        <!-- Reward slide -->
        <div  id="reward-slide" class="modal-container tab-margin scroll tab-screen">
            <h2 id="combatEndIndicator">Victory</h2>
            <p id="reward-desc" class="body-14"></p>
        
            <div id="reward-container" class="modal-body"></div>
        </div>

        <!-- Inventory slide -->
        <div  id="inventory-slide" class="modal-container  scroll tab-screen">
            <div class="column" style="gap: 12px; width: 100%; align-items: flex-start;">
                <h2>Inventory</h2>
                <p id="inventorySlideDesc" class="body-14">
                    <br>
                    <br>
                </p>
            </div>

            <div id="inventory-ref-container" class="modal-body column"></div>
        </div>
    </div>

    <!-- Character -->
    <div id="character" class="screen tab hide" >
        <div class="modal-container tab-margin scroll">
            <div id='character-content' class="column modal-body">
                <h2>Character</h2>

                <div id="stat-block" class = "body-14"></div>

                <!-- Social media container -->
                <div class ="columnl" style="gap:8px; align-items:flex-start;">
                    <p class="body-14 italic b50">Support the game</p>
                    <div class="social-container">
                        <a class="discord"  href="https://discord.gg/AT8KdVbcVT" target="_blank"><img src="./img/ico/discord.svg" alt="">Join game community</a>
                        <a class="x-social" href="https://twitter.com/pavelmorr" target="_blank"><img src="./img/ico/x-social.svg" alt=""></a>
                    </div>
                </div>

                <!-- Actions -->
                <div class ="column" style="gap:8px; align-items:flex-start;">
                    <p class="body-14 italic b50">Combat actions from equipment</p>
                    <div id="action-list"></div>
                </div>

                <!-- Passives -->
                <div class ="column" style="gap:8px; align-items:flex-start;">
                    <p class="body-14 italic b50">Passives</p>
                    <div id="passive-list"></div>
                </div>
            </div>

        </div>
    </div>

    <!-- Inventory -->
    <div id="inventory" class="screen tab hide" >
        <div class="modal-container tab-margin scroll">
            <h2 id="inventory-heading"></h2>
            <div id="inventory-list" class="modal-body "></div>
        </div>
    </div>

    <!-- Item modal -->
    <div id="item-modal" class="hide modal" >
        <div class="modal-container tab-margin">
            <div class="modal-header">
                <h2></h2>
            </div>

            <div id="item-modal-body" class="column modal-body"></div>
        </div>
    </div>

    <!-- MERCHANT -->
    <div id="merchant" class="screen tab-screen-container hide">
        <!-- Tabs -->
        <div class="tab-container">
            <button onclick="screen('map')">
                <img src="./img/ico/leave.svg">
                Leave
            </button>
            <button onclick="location.href='#buy-slide'">
                <img src="./img/ico/tab-reward.svg">
                Buy
            </button>
            <button onclick="location.href='#sell-slide'">
                <img src="./img/ico/inventory-tab.svg">
                Sell
            </button>
        </div>


        <div id="buy-slide" class="modal-container tab-margin scroll tab-screen">
            
            <h2>Merchant</h2>     
            <p id="merchant-coins-indicator"></p>       
            <div id='merchant-container' class="modal-body"></div>

        </div>

        <div id="sell-slide" class="modal-container tab-margin scroll tab-screen">
            <h2>Sell</h2>
            <div id='items-to-sell' class="modal-body"></div>
        </div>
    </div>

    <!-- BLACKSMITH -->
    <div id="blacksmith" class="screen tab-screen-container hide">
        <!-- Tabs -->
        <div class="tab-container">
            <button onclick="screen('map')">
                <img src="./img/ico/leave.svg">
                Leave
            </button>
            <button onclick="location.href='#enhance-slide'">
                <img src="./img/ico/enhance.svg">
                Enhance
            </button>
            <button onclick="location.href='#repair-slide'">
                <img src="./img/ico/repair.svg">
                Repair
            </button>
        </div>


        <div id="enhance-slide" class="modal-container tab-margin scroll tab-screen">
            <h2>Enhance items</h2>           
            <div id='items-to-enhance' class="modal-body"></div>
        </div>

        <div id="repair-slide" class="modal-container tab-margin scroll tab-screen">
            <h2>Repair items</h2>
            <div id='items-to-repair' class="modal-body"></div>
        </div>
    </div>

    <!-- EVENT SCREEN-->
    <div id="event-screen" class="screen state-screen hide" onclick="screen('map')">
        <div class="modal-container">
            <img id="event-cover" src="" class="illustration">
            <p id="event-desc" class="body-14"></p>
            <p class="body-14 italic b50">Tap to continue</p>
        </div>
    </div>

    <!-- CASINO-->
    <div id="casino-screen" class="screen state-screen hide">
        <!-- Tabs -->
        <div class="tab-container">
            <button onclick="screen('map'), syncUi()">
                <img src="./img/ico/leave.svg">
                Leave
            </button>
            <button onclick="runCasino(3)">
                <img src="./img/ico/coin.svg">
                Bet 3
            </button>
            <button onclick="runCasino(6)">
                <img src="./img/ico/coin.svg">
                Bet 6
            </button>
        </div>

        <div class="modal-container">
            <p id="casino-coins"></p>
            <div class="casino-card-container">
                <img id="card-0" class="casino-card" alt="" src="./img/map/card-cover.svg">
                <img id="card-1" class="casino-card" alt="" src="./img/map/card-cover.svg">
                <img id="card-2" class="casino-card" alt="" src="./img/map/card-cover.svg">
            </div>
            <p id="casino-outcome">Welcome to casino!</p>
        </div>
    </div>

    <!-- ALERT -->
    <div id="alert" class="hide" onclick="this.classList.add('hide')">
        <p id="alert-note">Message.</p>
    </div>

    <!-- TREE -->
    <div id="tree" class="screen hide tab" >
        <div class="modal-container">

            <div class="modal-header">Tree</div>
            <div id="skill-tree" class="modal-body"></div>

        </div>
    </div>
</body>

<script src="utility.js"></script>
<script src="config.js"></script>

<script src="./data/items.js"></script>
<script src="./data/actions.js"></script>
<script src="./data/data.js"></script>

<script src="ui.js"></script>
<script src="map.js"></script>
<script src="main.js"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-706KLCDSBD"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    
    gtag('config', 'G-706KLCDSBD');
</script>

</html>